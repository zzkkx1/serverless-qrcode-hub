# serverless-qrcode-hub

è‹¦äºå¾®ä¿¡ç¾¤èŠäºŒç»´ç é¢‘ç¹å˜åŠ¨ï¼Œå¼€å‘è¿™ä¸ªèƒ½ç”Ÿæˆæ°¸ä¹…äºŒç»´ç çš„å·¥å…·ï¼Œä¸éœ€è¦æœåŠ¡å™¨ã€‚åŸºäº Cloudflare Workers å’Œ KV å­˜å‚¨å®ç°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥ï¼ŒæŒ‡å‘å¾®ä¿¡ç¾¤äºŒç»´ç 
- ğŸ¨ è‡ªå®šä¹‰äºŒç»´ç æ ·å¼å’Œ Logo
- ğŸ’» ç®¡ç†åå°å¯éšæ—¶æ›´æ–°
- ğŸ” å¯†ç ä¿æŠ¤
- ğŸ˜‹ å¯å½“çŸ­é“¾æ¥ç”Ÿæˆå™¨
- â˜ï¸ æ— éœ€æœåŠ¡å™¨

## é¢„è§ˆå›¾

- ç™»å½•
  ![preview-login](./images/preview-login.png)
- ç®¡ç†åå°1ï¼šæ·»åŠ æ™®é€šçŸ­é“¾
  ![preview-admin](./images/preview-admin.png)
- ç®¡ç†åå°2ï¼šæ·»åŠ å¾®ä¿¡äºŒç»´ç 
  ![preview-admin2](./images/preview-admin2.png)
- ç®¡ç†åå°3
  ![preview-admin3](./images/preview-admin3.png)
- ç”ŸæˆäºŒç»´ç 
  ![preview-qr](./images/preview-qr.png)
- ç®¡ç†åå°4ï¼šç¼–è¾‘
  ![preview-admin4](./images/preview-admin4.png)
- å¾®ä¿¡è¯†åˆ«
  ![preview-wechat](./images/preview-wechat.jpg)
- çŸ­é“¾è·³è½¬å°±ä¸å±•ç¤ºäº†ï¼Œæ˜¯ç›´æ¥è·³è½¬çš„

## ä½¿ç”¨æ­¥éª¤

- Fork ä»“åº“
- åœ¨ Cloudflare æ§åˆ¶å°åˆ›å»º KV å‘½åç©ºé—´å¹¶å¤åˆ¶ KV å‘½åç©ºé—´ ID
- åœ¨ GitHub æ‰“å¼€ä»“åº“çš„ `wrangler.toml` æ–‡ä»¶ï¼Œå°† `kv_namespaces` ä¸‹çš„ `id` å†…å®¹æ›¿æ¢ä¸ºä½ çš„ KV å‘½åç©ºé—´ ID

```toml
kv_namespaces = [
    # æ³¨æ„ï¼šå°†ä¸‹é¢çš„ id æ›¿æ¢ä¸ºä½ è‡ªå·±æ‹·è´çš„ KV å‘½åç©ºé—´ id æ‰èƒ½æ­£å¸¸ä½¿ç”¨ï¼
    { binding = "KV_BINDING", id = "1861b1f17ac346e9aca647e7d4a4c143" },
]
```

- åˆ›å»º Workerï¼Œé€‰æ‹©ä½  Fork å¹¶ä¿®æ”¹çš„é¡¹ç›®ï¼Œè®¾ç½®`å˜é‡å’Œæœºå¯†`-`å¯†é’¥`ç±»å‹çš„å˜é‡ï¼Œåç§°ä¸º `PASSWORD`ï¼Œå€¼ä¸ºè‹±æ–‡å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼Œå°½é‡é•¿ç‚¹å¤æ‚ç‚¹ï¼Œå»ºè®®ä½¿ç”¨å°å†™çš„ uuid å­—ç¬¦ä¸²
- åˆ›å»ºæˆåŠŸåç»‘å®šè‡ªå®šä¹‰åŸŸå
- éƒ¨ç½²æˆåŠŸåï¼Œè®¿é—® https://{ä½ çš„åŸŸå}/ ç™»å½•ï¼Œç„¶åè‡ªåŠ¨è·³è½¬åˆ° https://{ä½ çš„åŸŸå}/admin ç®¡ç†åå°ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥æ‰“å¼€ä¸éœ€è¦å†ç™»å½•ï¼Œä½†è¿˜æ˜¯å»ºè®®ä¿å­˜å¥½å¯†ç 

### å‚è€ƒæˆªå›¾

**ä¸‹é¢çš„æˆªå›¾æ˜¯æ—§ç‰ˆçš„ï¼Œä»…ä¾›å‚è€ƒï¼Œå’Œç°åœ¨çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œå‚è€ƒä¸Šé¢çš„ä½¿ç”¨æ­¥éª¤**

**æ­¥éª¤ä¸éœ€è¦å’Œæˆ‘è¿™ä¸ªå®Œå…¨ä¸€è‡´ï¼Œåªè¦èƒ½éƒ¨ç½²æˆåŠŸå°±è¡Œã€‚æˆ‘è¿™é‡Œæœ‰ä¸€äº›é”™è¯¯ï¼Œè¯·å¿½ç•¥ã€‚**

1. Fork æœ¬é¡¹ç›®
   ![fork](./images/fork.png)
2. åˆ›å»º KV å‘½åç©ºé—´
   ![create kv](./images/create-kv.png)
3. åˆ›å»º Worker
   ![create worker](./images/create-worker.png)
4. é€‰æ‹©ä½  Fork çš„é¡¹ç›®
   ![select fork](./images/create-worker2.png)
5. ä¿®æ”¹æ„å»ºé…ç½®
   ![build config](./images/create-worker3.png)
6. ç»‘å®š KV å‘½åç©ºé—´ KV_BINDING
   ![bind kv](./images/bind-kv.png)
7. ç‚¹å‡»ä¿å­˜ç‰ˆæœ¬
   ![save](./images/save.png)
8. åˆ›å»ºç¯å¢ƒå˜é‡ PASSWORDï¼Œæ³¨æ„æ ¼å¼æ˜¯è‹±æ–‡å¤§å°å†™å­—æ¯ã€æ•°å­—æˆ–è€…ç¬¦å·ï¼Œå°½é‡æå¤æ‚ç‚¹
   ![create env](./images/create-env.png)
9. ç‚¹å‡»ä¿å­˜ç‰ˆæœ¬
   ![save](./images/save.png)
10. æœ€ç»ˆæ•ˆæœ
    ![final](./images/final.png)
11. å›åˆ°éƒ¨ç½²é¡µï¼Œç‚¹å‡» `æ‚¨çš„ä¸Šä¸€æ¬¡æ„å»ºå¤±è´¥ã€‚æŸ¥çœ‹æ„å»º` ç„¶åç‚¹å‡» `é‡è¯•æ„å»º`
12. éƒ¨ç½²æˆåŠŸ
13. ç»‘å®šè‡ªå®šä¹‰åŸŸå
    ![bind domain](./images/domain.png)

## TODO

- [ ] å®ç°å®šæ—¶æ£€æŸ¥è¿‡æœŸçŸ­é“¾åŠŸèƒ½
  - [x] è‡ªåŠ¨æ£€æŸ¥è¿‡æœŸçš„çŸ­é“¾æ¥
  - [ ] å‘é€é‚®ä»¶é€šçŸ¥ç®¡ç†å‘˜
  - [x] è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®
- [ ] æ·»åŠ è®¿é—®ç»Ÿè®¡åŠŸèƒ½
- [ ] æ”¯æŒæ‰¹é‡å¯¼å…¥å¯¼å‡º
- [ ] æ”¯æŒå¤šç§Ÿæˆ·
- [ ] æ”¯æŒå¤šè¯­è¨€
- [ ] æ”¯æŒå¤š Serverless å¹³å°
- [ ] æ‰‹æœºç«¯å¿«æ·æ›´æ–°äºŒç»´ç åŠŸèƒ½

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
