# serverless-qrcode-hub

è‹¦äºå¾®ä¿¡ç¾¤èŠäºŒç»´ç é¢‘ç¹å˜åŠ¨ï¼Œå¼€å‘è¿™ä¸ªèƒ½ç”Ÿæˆæ°¸ä¹…äºŒç»´ç çš„å·¥å…·ï¼Œ**ä¸éœ€è¦æœåŠ¡å™¨**ã€‚åŸºäº Cloudflare Workers å’Œ D1 å®ç°ã€‚

> æ—§ç‰ˆä½¿ç”¨çš„ KV çš„å…è´¹é¢åº¦å¤ªå°‘ï¼Œæ–°ç‰ˆæœ¬æ”¹ä¸ºåŸºäº D1 å­˜å‚¨ï¼Œ500ä¸‡æ¬¡è¯»å–å¤Ÿç”¨äº†ï¼Œå»ºè®®ä½¿ç”¨æ—§ç‰ˆçš„åŠæ—¶å‡çº§ï¼ŒåŸºäº KV çš„æœ€åç‰ˆæœ¬æ˜¯ v1.2.0: [README.v1.md](./README.v1.md)ï¼ˆä¸å»ºè®®å†ä½¿ç”¨ï¼‰
>
> æ—§ç‰ˆ KV è¿ç§»åˆ°æ–°ç‰ˆçš„æŒ‡å—: [MIGRATE.md](./MIGRATE.md)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ”— ç”Ÿæˆæ°¸ä¹…çŸ­é“¾æ¥ï¼ŒæŒ‡å‘å¾®ä¿¡ç¾¤äºŒç»´ç 
- ğŸ˜‹ å¯å½“çŸ­é“¾æ¥ç”Ÿæˆå™¨
- â˜ï¸ æ— éœ€æœåŠ¡å™¨
- ğŸ¨ è‡ªå®šä¹‰äºŒç»´ç æ ·å¼å’Œ Logo
- ğŸ’» ç®¡ç†åå°å¯éšæ—¶æ›´æ–°
- ğŸ” å¯†ç ä¿æŠ¤

<a href="https://qrdemo.2020818.xyz" target="_blank">Demo åœ°å€</a>(å¯†ç : `demo`)

## é¢„è§ˆå›¾

- ç™»å½•

  ![preview-login](./images/preview-login.png)

- ç®¡ç†åå°1ï¼šæ·»åŠ æ™®é€šçŸ­é“¾

  ![preview-admin](./images/preview-admin.png)

- ç®¡ç†åå°2ï¼šæ·»åŠ å¾®ä¿¡äºŒç»´ç 

  ![preview-admin2](./images/preview-admin2.png)

- ç®¡ç†åå°3

  ![preview-admin3](./images/preview-admin3.png)

- ç”ŸæˆäºŒç»´ç 

  ![preview-qr](./images/preview-qr.png)

- ç®¡ç†åå°4ï¼šç¼–è¾‘

  ![preview-admin4](./images/preview-admin4.png)

- å¾®ä¿¡è¯†åˆ«

  ![preview-wechat](./images/preview-wechat.jpg)
  
- çŸ­é“¾è·³è½¬å°±ä¸å±•ç¤ºäº†ï¼Œæ˜¯ç›´æ¥è·³è½¬çš„

## ä½¿ç”¨æ­¥éª¤

1. ç™»å½• Cloudflare å¹¶åˆ›å»º D1 SQL æ•°æ®åº“

   ![](./images/1_1.png)
   ![](./images/1_2.png)

2. å¤åˆ¶ D1 SQL æ•°æ®åº“ ID

   ![](./images/2_1.png)

3. å›åˆ° GitHub å¹¶ Fork ä»“åº“

   ![](./images/3.png)

4. åœ¨ GitHub æ‰“å¼€ä½  Fork çš„ä»“åº“çš„ `wrangler.toml` æ–‡ä»¶ï¼Œç‚¹å‡»å›¾ä¸­çš„æŒ‰é’®ç¼–è¾‘

   ![](./images/4_1.png)

5. å°† `d1_databases` ä¸‹çš„ `database_id` å†…å®¹æ›¿æ¢ä¸ºä½ è‡ªå·±æ‹·è´çš„ D1 SQL æ•°æ®åº“ ID

   ![](./images/5_1.png)

6. å›åˆ° Cloudflare å¹¶åˆ›å»º Worker

   ![](./images/6.jpg)

7. é€‰æ‹©ä½  Fork çš„ Github ä»“åº“ï¼Œç„¶åç›´æ¥ç‚¹å‡»å³ä¸‹è§’çš„ `ä¿å­˜å¹¶éƒ¨ç½²`

   ![](./images/7.jpg)

8. ç­‰å¾…éƒ¨ç½²æˆåŠŸï¼Œè‡ªåŠ¨è·³è½¬åˆ°äº†è¿™ä¸ªé¡µé¢ï¼Œæ­¤æ—¶é»˜è®¤åˆ†é…çš„ `*.workers.dev` åŸŸååœ¨å›½å†…è®¿é—®è¾ƒæ…¢ï¼Œå»ºè®®ç»‘å®šè‡ªå·±çš„åŸŸå

   ![](./images/8.jpg)

9. ç»‘å®šè‡ªå®šä¹‰åŸŸå

   ![](./images/9.jpg)

10. è®¾ç½®ä¸€ä¸ªä½ åœ¨ Cloudflare æ‰˜ç®¡çš„åŸŸåçš„å­åŸŸå 

   ![](./images/10.jpg)

11. æŒ‰å›¾ä¸­æ­¥éª¤è®¾ç½®è®¿é—®å¯†ç ï¼Œæ³¨æ„å¯†ç æ ¼å¼ä¸ºè‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œå°½é‡é•¿å°½é‡å¤æ‚ï¼Œæ¨èä½¿ç”¨ä¸¤æ®µéšæœºç”Ÿæˆçš„uuidå­—ç¬¦ä¸²ä½œä¸ºå¯†ç 

   ![](./images/11.png)

12. éƒ¨ç½²æˆåŠŸï¼Œæ­¤æ—¶å·²ç»å¯ä»¥é¢æ¿ä¸Šé€šè¿‡é»˜è®¤åˆ†é…çš„ `*.workers.dev` æˆ–è€…ä½ è‡ªå®šä¹‰çš„åŸŸåè®¿é—®äº†ï¼

13. è®¿é—®å¹¶ç™»å½•åï¼Œåˆ›å»ºçŸ­é“¾æ¥ä¾‹å­

   ![](./images/12.png)
   ![](./images/13.png)

14. åˆ›å»ºå¾®ä¿¡ç¾¤èŠæ´»ç ä¾‹å­

   ![](./images/14.png)
   ![](./images/15.png)

## TODO

- [ ] å®ç°å®šæ—¶æ£€æŸ¥è¿‡æœŸçŸ­é“¾åŠŸèƒ½
  - [x] è‡ªåŠ¨æ£€æŸ¥è¿‡æœŸçš„çŸ­é“¾æ¥
  - [ ] å‘é€é‚®ä»¶é€šçŸ¥ç®¡ç†å‘˜
  - [x] è‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®
- [ ] æ·»åŠ è®¿é—®ç»Ÿè®¡åŠŸèƒ½
- [ ] æ”¯æŒæ‰¹é‡å¯¼å…¥å¯¼å‡º
- [ ] æ”¯æŒå¤šç§Ÿæˆ·
- [ ] æ”¯æŒå¤šè¯­è¨€
- [ ] æ”¯æŒå¤š Serverless å¹³å°
- [ ] æ‰‹æœºç«¯å¿«æ·æ›´æ–°äºŒç»´ç åŠŸèƒ½

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
